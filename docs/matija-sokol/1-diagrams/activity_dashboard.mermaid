graph TD
    Start([početak]) --> OpenDashboard[administrator otvara<br/>dashboard]
    OpenDashboard --> AuthCheck{provjera<br/>autorizacije}
    
    AuthCheck -->|Nije admin| AccessDenied[pristup odbijen]
    AccessDenied --> End([kraj])
    
    AuthCheck -->|Je admin| LoadDashboard[učitaj dashboard]
    LoadDashboard --> FetchData[dohvati podatke<br/>iz baze]
    
    FetchData --> parallel1{{paralelna obrada}}
    
    parallel1 --> CalcStats[izračunaj statistiku]
    parallel1 --> GenCharts[izračunaj grafove]
    parallel1 --> GetRecent[dohvati prijave]
    
    CalcStats --> join1{{spoji rezultate}}
    GenCharts --> join1
    GetRecent --> join1
    
    join1 --> DisplayDashboard[prikaži dashboard]
    
    DisplayDashboard --> UserAction{akcija<br/>administratora?}
    
    UserAction -->|Filter vremenski| ApplyTimeFilter[primijeni filter<br/>datum od-do]
    UserAction -->|Filter po kvartu| ApplyLocationFilter[filtriraj po<br/>lokaciji]
    UserAction -->|Export izvještaj| ExportReport[generiraj i preuzmi<br/>pdf izvještaj]
    UserAction -->|Osvježi podatke| RefreshData[osvježi<br/>dashboard]
    
    ApplyTimeFilter --> RecalcData[ponovno izračunaj<br/>podatke]
    ApplyLocationFilter --> RecalcData
    RecalcData --> DisplayDashboard
    
    ExportReport --> GeneratePDF[kreiraj pdf<br/>s analitikom]
    GeneratePDF --> DownloadPDF[preuzmi izvještaj]
    DownloadPDF --> UserAction
    
    RefreshData --> FetchData
    
    UserAction -->|Izlaz| End
