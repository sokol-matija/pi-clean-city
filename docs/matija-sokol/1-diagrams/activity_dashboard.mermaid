graph TD
    Start([Početak]) --> OpenDashboard[Administrator otvara<br/>dashboard]
    OpenDashboard --> AuthCheck{Provjera<br/>autorizacije}
    
    AuthCheck -->|Nije admin| AccessDenied[Pristup odbijen]
    AccessDenied --> End([Kraj])
    
    AuthCheck -->|Je admin| LoadDashboard[Učitaj dashboard]
    LoadDashboard --> FetchData[Dohvati podatke<br/>iz baze]
    
    FetchData --> parallel1{{Paralelna obrada}}
    
    parallel1 --> CalcStats[Izračunaj statistiku]
    parallel1 --> GenCharts[Izračunaj grafove]
    parallel1 --> GetRecent[Dohvati prijave]
    
    CalcStats --> join1{{Spoji rezultate}}
    GenCharts --> join1
    GetRecent --> join1
    
    join1 --> DisplayDashboard[Prikaži dashboard]
    
    DisplayDashboard --> UserAction{Akcija<br/>administratora?}
    
    UserAction -->|Filter vremenski| ApplyTimeFilter[Primijeni filter<br/>datum od-do]
    UserAction -->|Filter po kvartu| ApplyLocationFilter[Filtriraj po<br/>lokaciji]
    UserAction -->|Export izvještaj| ExportReport[Generiraj i preuzmi<br/>PDF izvještaj]
    UserAction -->|Osvježi podatke| RefreshData[Osvježi<br/>dashboard]
    
    ApplyTimeFilter --> RecalcData[Ponovno izračunaj<br/>podatke]
    ApplyLocationFilter --> RecalcData
    RecalcData --> DisplayDashboard
    
    ExportReport --> GeneratePDF[Kreiraj PDF<br/>s analitikom]
    GeneratePDF --> DownloadPDF[Preuzmi izvještaj]
    DownloadPDF --> UserAction
    
    RefreshData --> FetchData
    
    UserAction -->|Izlaz| End
    
