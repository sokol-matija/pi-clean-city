<?xml version="1.0" encoding="utf-8" ?>
<CollectionView
    x:Class="CleanCity.Components.ReportsList"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:converters="clr-namespace:CleanCity.Converters"
    x:Name="ThisList"
    BackgroundColor="#F5F5F5"
    SelectionMode="None">

    <CollectionView.Resources>
        <ResourceDictionary>
            <converters:StatusToColorConverter x:Key="StatusToColorConverter" />
            <converters:StatusToTextConverter x:Key="StatusToTextConverter" />
        </ResourceDictionary>
    </CollectionView.Resources>

    <CollectionView.ItemsLayout>
        <LinearItemsLayout ItemSpacing="15" Orientation="Vertical" />
    </CollectionView.ItemsLayout>

    <CollectionView.Header>
        <BoxView HeightRequest="10" Color="#F5F5F5" />
    </CollectionView.Header>

    <CollectionView.Footer>
        <BoxView HeightRequest="20" Color="#F5F5F5" />
    </CollectionView.Footer>

    <CollectionView.ItemTemplate>
        <DataTemplate>
            <Border
                Margin="20,0,20,0"
                Padding="0"
                BackgroundColor="White"
                Shadow="{Shadow Brush=Black,
                                Opacity=0.1,
                                Radius=8,
                                Offset='0,2'}"
                Stroke="Transparent"
                StrokeShape="RoundRectangle 12">
                <Grid
                    Padding="15"
                    RowDefinitions="Auto,Auto,Auto"
                    RowSpacing="10">
                    <Label
                        Grid.Row="0"
                        FontFamily="OpenSansSemibold"
                        FontSize="14"
                        Text="{Binding Title}"
                        TextColor="#212121" />
                    <Label
                        Grid.Row="1"
                        FontSize="12"
                        TextColor="#757575">
                        <Label.Text>
                            <MultiBinding StringFormat="Datum: {0:dd.MM.yyyy}.">
                                <Binding Path="CreatedDate" />
                            </MultiBinding>
                        </Label.Text>
                    </Label>
                    <Border
                        Grid.Row="2"
                        Padding="12,8"
                        BackgroundColor="{Binding Status, Converter={StaticResource StatusToColorConverter}, ConverterParameter=background}"
                        HorizontalOptions="Start"
                        Stroke="{Binding Status, Converter={StaticResource StatusToColorConverter}, ConverterParameter=stroke}"
                        StrokeShape="RoundRectangle 16"
                        StrokeThickness="0.5"
                        WidthRequest="120">
                        <Label
                            FontAttributes="Bold"
                            FontSize="13"
                            HorizontalTextAlignment="Center"
                            Text="{Binding Status, Converter={StaticResource StatusToTextConverter}}"
                            TextColor="{Binding Status, Converter={StaticResource StatusToColorConverter}, ConverterParameter=stroke}" />
                    </Border>
                </Grid>
            </Border>
        </DataTemplate>
    </CollectionView.ItemTemplate>
</CollectionView>
